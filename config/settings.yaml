# Stock Screening Strategy Parameters

# Valuation Filters (Value)
pe_ttm_max: 30  # Maximum PE_TTM ratio
pb_max: 5       # Maximum PB ratio

# Quality Filters
roe_min: 8      # Minimum ROE (percentage)

# Yield Filters
dividend_yield_min: 1.5  # Minimum dividend yield (percentage)

# Exclusion Rules
listing_days_min: 365  # Minimum days since listing (exclude new stocks)

# API Configuration
api:
  provider: eastmoney  # API 提供商: eastmoney (免费), tushare (付费)
  use_free_api: true  # 是否使用免费 API
  request_timeout: 10  # API 请求超时时间（秒）
  max_retries: 3  # 最大重试次数
  
# Logging Configuration
logging:
  level: INFO  # 日志级别: DEBUG, INFO, WARNING, ERROR
  file: logs/app.log  # 日志文件路径
  console: true  # 是否输出到控制台
  
# Performance Configuration
performance:
  batch_size: 50  # API 批量处理大小
  request_delay: 0.2  # API 请求延迟（秒）
  cache_enabled: false  # 是否启用缓存

# Output Configuration
output:
  directory: data/output  # 输出目录
  report_format: markdown  # 报告格式
  csv_encoding: utf-8-sig  # CSV 文件编码

# Index Filter Configuration
index_filter:
  enabled: true  # 是否启用指数过滤
  index_code: "000852.SH"  # 指数代码（中证1000）
  fallback_to_all: false  # 获取失败时是否降级到全市场（false=返回空数据）

# Concurrency Configuration
concurrency:
  roe_workers: 10  # ROE获取并发数
  ai_workers: 5    # AI评分并发数
  atr_workers: 10  # ATR计算并发数

# API Rate Limit Configuration
api_rate_limit:
  tushare_delay: 0.1      # Tushare API延迟（秒）
  eastmoney_delay: 0.2   # 东方财富API延迟（秒）
  retry_delay: 0.5       # 重试延迟（秒）
  qps_retry_delay: 60    # QPS限制错误重试延迟（秒），默认60秒
  task_delay: 0.02       # 任务完成后延迟（秒）
  max_retries: 3         # 最大重试次数

# Strategy Parameters
strategy:
  alpha_trident:
    rps_threshold: 85        # RPS阈值
    vol_ratio_threshold: 1.5 # 量比阈值
    pe_max: 30               # 最大PE
  backtest:
    index_code: "000300.SH"  # 回测股票池指数（沪深300）
    initial_capital: 1000000.0  # 初始资金
    max_positions: 4         # 最大持仓数

# Factor Parameters
factors:
  rps:
    window: 60  # RPS计算窗口（天）
  ma:
    window: 20  # MA计算窗口（天）
  volume_ratio:
    window: 5   # 量比计算窗口（天）
  pe:
    max: 30     # 最大PE
  bbi:
    ma_windows: [3, 6, 12, 24]  # BBI计算的移动平均窗口（天）
    confirmation_days: 1        # BBI确认信号所需连续天数（3日确认规则）

# Hunter Configuration
hunter:
  history_days: 120  # 历史数据获取天数（确保有足够交易日）

# Portfolio Configuration
portfolio:
  default_shares: 100  # 默认持仓数量（股）
  default_stop_loss_ratio: 0.9  # 默认止损比例（当前价格的90%）

# Jobs Configuration
jobs:
  daily_runner:
    enabled: true  # 是否启用定时任务
    schedule_time: "17:30"  # 执行时间 HH:MM
    timezone: "Asia/Shanghai"  # 时区
    max_retries: 3  # 最大重试次数
    retry_delays: [300, 600, 1800]  # 重试延迟（秒）：5分钟、10分钟、30分钟
    timeout_seconds: 3600  # 任务超时时间（秒），默认1小时
    notification:
      enabled: true  # 是否启用通知
      channels: ["log"]  # 通知渠道：log, email, system
      email:
        smtp_host: ""  # SMTP服务器地址
        smtp_port: 587  # SMTP端口
        smtp_user: ""  # SMTP用户名
        smtp_password: ""  # SMTP密码
        recipients: []  # 收件人列表
